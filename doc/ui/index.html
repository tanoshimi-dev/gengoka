<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>è¨€èªåŒ–ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚° - ã‚²ãƒ³ã‚´ã‚«</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Hiragino Sans', 'Hiragino Kaku Gothic ProN', 'Noto Sans JP', sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      color: #333;
      padding-bottom: 80px;
    }

    .container {
      max-width: 480px;
      margin: 0 auto;
      padding: 20px;
      min-height: 100vh;
    }

    /* Screen management */
    .screen {
      display: none;
    }
    .screen.active {
      display: block;
    }

    /* Header */
    .header {
      text-align: center;
      padding: 40px 0 30px;
    }
    .header h1 {
      color: white;
      font-size: 28px;
      font-weight: 700;
      letter-spacing: 2px;
    }
    .header p {
      color: rgba(255,255,255,0.85);
      font-size: 14px;
      margin-top: 8px;
    }
    .header-small {
      padding: 20px 0 16px;
    }
    .header-small h1 {
      font-size: 22px;
    }

    /* Card */
    .card {
      background: white;
      border-radius: 20px;
      padding: 24px;
      box-shadow: 0 10px 40px rgba(0,0,0,0.15);
      margin-bottom: 20px;
    }

    /* Category Grid */
    .category-grid {
      display: grid;
      gap: 12px;
    }
    .category-btn {
      display: flex;
      align-items: center;
      gap: 16px;
      padding: 18px 20px;
      background: white;
      border: 2px solid #e8e8e8;
      border-radius: 16px;
      cursor: pointer;
      transition: all 0.2s ease;
      text-align: left;
    }
    .category-btn:hover {
      border-color: #667eea;
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(102,126,234,0.2);
    }
    .category-icon {
      width: 48px;
      height: 48px;
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 24px;
    }
    .category-icon.situation { background: #fff3e0; }
    .category-icon.summary { background: #e3f2fd; }
    .category-icon.emotion { background: #fce4ec; }
    .category-icon.rephrase { background: #e8f5e9; }
    .category-icon.explain { background: #f3e5f5; }

    .category-info h3 {
      font-size: 16px;
      font-weight: 600;
      margin-bottom: 4px;
    }
    .category-info p {
      font-size: 12px;
      color: #888;
    }
    .category-limit {
      margin-left: auto;
      background: #f5f5f5;
      padding: 6px 12px;
      border-radius: 20px;
      font-size: 11px;
      color: #666;
      white-space: nowrap;
    }

    /* Challenge Screen */
    .back-btn {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      color: white;
      font-size: 14px;
      background: none;
      border: none;
      cursor: pointer;
      padding: 8px 0;
      margin-bottom: 16px;
    }
    .back-btn:hover {
      opacity: 0.8;
    }

    .challenge-category {
      display: inline-block;
      padding: 6px 14px;
      background: linear-gradient(135deg, #667eea, #764ba2);
      color: white;
      border-radius: 20px;
      font-size: 12px;
      font-weight: 600;
      margin-bottom: 16px;
    }

    .challenge-title {
      font-size: 18px;
      font-weight: 700;
      margin-bottom: 16px;
      line-height: 1.6;
    }

    .challenge-limit {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 12px 16px;
      background: #f8f9fa;
      border-radius: 12px;
      margin-bottom: 20px;
    }
    .challenge-limit-icon {
      font-size: 20px;
    }
    .challenge-limit-text {
      font-size: 14px;
      color: #666;
    }
    .challenge-limit-text strong {
      color: #e53935;
    }

    .answer-area {
      position: relative;
    }
    .answer-textarea {
      width: 100%;
      height: 120px;
      padding: 16px;
      border: 2px solid #e8e8e8;
      border-radius: 12px;
      font-size: 16px;
      font-family: inherit;
      resize: none;
      transition: border-color 0.2s;
    }
    .answer-textarea:focus {
      outline: none;
      border-color: #667eea;
    }
    .answer-textarea.over-limit {
      border-color: #e53935;
    }

    .char-counter {
      position: absolute;
      bottom: 12px;
      right: 16px;
      font-size: 14px;
      color: #888;
    }
    .char-counter.over {
      color: #e53935;
      font-weight: 600;
    }

    .submit-btn {
      width: 100%;
      padding: 16px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      border: none;
      border-radius: 12px;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      transition: transform 0.2s, box-shadow 0.2s;
      margin-top: 16px;
    }
    .submit-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(102,126,234,0.4);
    }
    .submit-btn:disabled {
      background: #ccc;
      cursor: not-allowed;
      transform: none;
      box-shadow: none;
    }

    /* Result Screen */
    .result-header {
      text-align: center;
      padding: 20px 0;
    }
    .result-score {
      font-size: 64px;
      font-weight: 700;
      background: linear-gradient(135deg, #667eea, #764ba2);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
    .result-label {
      font-size: 14px;
      color: #888;
      margin-top: 4px;
    }

    .result-section {
      margin-top: 20px;
    }
    .result-section-title {
      font-size: 14px;
      font-weight: 600;
      color: #888;
      margin-bottom: 8px;
    }
    .result-answer {
      padding: 16px;
      background: #f8f9fa;
      border-radius: 12px;
      font-size: 15px;
      line-height: 1.6;
    }

    .feedback-card {
      margin-top: 16px;
      padding: 16px;
      background: #e8f5e9;
      border-radius: 12px;
      border-left: 4px solid #4caf50;
    }
    .feedback-card h4 {
      font-size: 14px;
      color: #2e7d32;
      margin-bottom: 8px;
    }
    .feedback-card p {
      font-size: 14px;
      color: #333;
      line-height: 1.6;
    }

    .improvement-card {
      margin-top: 12px;
      padding: 16px;
      background: #fff3e0;
      border-radius: 12px;
      border-left: 4px solid #ff9800;
    }
    .improvement-card h4 {
      font-size: 14px;
      color: #e65100;
      margin-bottom: 8px;
    }
    .improvement-card p {
      font-size: 14px;
      color: #333;
      line-height: 1.6;
    }

    .example-card {
      margin-top: 12px;
      padding: 16px;
      background: #e3f2fd;
      border-radius: 12px;
      border-left: 4px solid #2196f3;
    }
    .example-card h4 {
      font-size: 14px;
      color: #1565c0;
      margin-bottom: 8px;
    }
    .example-card p {
      font-size: 14px;
      color: #333;
      line-height: 1.6;
      font-style: italic;
    }

    .action-buttons {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 12px;
      margin-top: 24px;
    }
    .action-btn {
      padding: 14px;
      border-radius: 12px;
      font-size: 14px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s;
    }
    .action-btn.secondary {
      background: white;
      border: 2px solid #e8e8e8;
      color: #666;
    }
    .action-btn.secondary:hover {
      border-color: #667eea;
      color: #667eea;
    }
    .action-btn.primary {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      border: none;
      color: white;
    }
    .action-btn.primary:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(102,126,234,0.4);
    }

    /* Stats bar */
    .stats-bar {
      display: flex;
      justify-content: space-around;
      padding: 16px;
      background: rgba(255,255,255,0.1);
      border-radius: 16px;
      margin-top: 24px;
    }
    .stat-item {
      text-align: center;
    }
    .stat-value {
      font-size: 24px;
      font-weight: 700;
      color: white;
    }
    .stat-label {
      font-size: 11px;
      color: rgba(255,255,255,0.7);
      margin-top: 4px;
    }

    /* Loading */
    .loading {
      display: none;
      text-align: center;
      padding: 40px;
    }
    .loading.active {
      display: block;
    }
    .loading-spinner {
      width: 40px;
      height: 40px;
      border: 3px solid #e8e8e8;
      border-top-color: #667eea;
      border-radius: 50%;
      animation: spin 1s linear infinite;
      margin: 0 auto 16px;
    }
    @keyframes spin {
      to { transform: rotate(360deg); }
    }
    .loading-text {
      color: #888;
      font-size: 14px;
    }

    /* Bottom Navigation */
    .bottom-nav {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      background: white;
      display: flex;
      justify-content: space-around;
      padding: 12px 0 20px;
      box-shadow: 0 -4px 20px rgba(0,0,0,0.1);
      z-index: 100;
    }
    .nav-item {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 4px;
      background: none;
      border: none;
      cursor: pointer;
      padding: 8px 16px;
      color: #888;
      transition: color 0.2s;
    }
    .nav-item.active {
      color: #667eea;
    }
    .nav-item:hover {
      color: #667eea;
    }
    .nav-icon {
      font-size: 24px;
    }
    .nav-label {
      font-size: 10px;
      font-weight: 600;
    }

    /* Feed Screen */
    .feed-card {
      background: white;
      border-radius: 16px;
      padding: 16px;
      margin-bottom: 16px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.08);
    }

    .feed-header {
      display: flex;
      align-items: center;
      gap: 12px;
      margin-bottom: 12px;
    }
    .feed-avatar {
      width: 44px;
      height: 44px;
      border-radius: 50%;
      background: linear-gradient(135deg, #667eea, #764ba2);
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-weight: 700;
      font-size: 16px;
      cursor: pointer;
    }
    .feed-user-info {
      flex: 1;
    }
    .feed-username {
      font-weight: 600;
      font-size: 14px;
      cursor: pointer;
    }
    .feed-username:hover {
      color: #667eea;
    }
    .feed-meta {
      font-size: 12px;
      color: #888;
      display: flex;
      align-items: center;
      gap: 8px;
      margin-top: 2px;
    }
    .feed-score {
      background: linear-gradient(135deg, #667eea, #764ba2);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      font-weight: 700;
    }

    .feed-challenge {
      font-size: 12px;
      color: #666;
      padding: 10px 12px;
      background: #f8f9fa;
      border-radius: 8px;
      margin-bottom: 12px;
      line-height: 1.5;
    }
    .feed-challenge-label {
      display: inline-block;
      background: #667eea;
      color: white;
      font-size: 10px;
      padding: 2px 8px;
      border-radius: 10px;
      margin-bottom: 6px;
    }

    .feed-answer {
      font-size: 16px;
      line-height: 1.7;
      padding: 12px 0;
      border-bottom: 1px solid #f0f0f0;
    }

    .feed-actions {
      display: flex;
      align-items: center;
      gap: 20px;
      padding-top: 12px;
    }
    .feed-action-btn {
      display: flex;
      align-items: center;
      gap: 6px;
      background: none;
      border: none;
      cursor: pointer;
      color: #888;
      font-size: 14px;
      padding: 8px 0;
      transition: all 0.2s;
    }
    .feed-action-btn:hover {
      color: #667eea;
    }
    .feed-action-btn.liked {
      color: #e91e63;
    }
    .feed-action-btn.liked .action-icon {
      animation: like-pop 0.3s ease;
    }
    @keyframes like-pop {
      0% { transform: scale(1); }
      50% { transform: scale(1.3); }
      100% { transform: scale(1); }
    }
    .action-icon {
      font-size: 20px;
    }

    /* Comments */
    .comments-section {
      margin-top: 12px;
      padding-top: 12px;
      border-top: 1px solid #f0f0f0;
    }
    .comment-item {
      display: flex;
      gap: 10px;
      margin-bottom: 12px;
    }
    .comment-avatar {
      width: 32px;
      height: 32px;
      border-radius: 50%;
      background: #e8e8e8;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 12px;
      font-weight: 600;
      color: #666;
      flex-shrink: 0;
    }
    .comment-content {
      flex: 1;
    }
    .comment-username {
      font-size: 12px;
      font-weight: 600;
      margin-bottom: 2px;
    }
    .comment-text {
      font-size: 13px;
      line-height: 1.5;
      color: #444;
    }
    .comment-time {
      font-size: 11px;
      color: #aaa;
      margin-top: 4px;
    }

    .comment-input-area {
      display: flex;
      gap: 10px;
      margin-top: 12px;
    }
    .comment-input {
      flex: 1;
      padding: 10px 14px;
      border: 1px solid #e8e8e8;
      border-radius: 20px;
      font-size: 14px;
      font-family: inherit;
    }
    .comment-input:focus {
      outline: none;
      border-color: #667eea;
    }
    .comment-submit {
      padding: 10px 16px;
      background: #667eea;
      color: white;
      border: none;
      border-radius: 20px;
      font-size: 14px;
      font-weight: 600;
      cursor: pointer;
    }
    .comment-submit:hover {
      background: #5a6fd6;
    }

    /* Profile Screen */
    .profile-header-card {
      background: white;
      border-radius: 20px;
      padding: 24px;
      text-align: center;
      margin-bottom: 16px;
    }
    .profile-avatar {
      width: 80px;
      height: 80px;
      border-radius: 50%;
      background: linear-gradient(135deg, #667eea, #764ba2);
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-size: 32px;
      font-weight: 700;
      margin: 0 auto 16px;
    }
    .profile-name {
      font-size: 20px;
      font-weight: 700;
      margin-bottom: 4px;
    }
    .profile-handle {
      font-size: 14px;
      color: #888;
      margin-bottom: 16px;
    }
    .profile-bio {
      font-size: 14px;
      color: #666;
      line-height: 1.6;
      margin-bottom: 20px;
    }

    .profile-stats {
      display: flex;
      justify-content: space-around;
      padding: 16px 0;
      border-top: 1px solid #f0f0f0;
      border-bottom: 1px solid #f0f0f0;
      margin-bottom: 20px;
    }
    .profile-stat {
      text-align: center;
      cursor: pointer;
    }
    .profile-stat:hover .profile-stat-value {
      color: #667eea;
    }
    .profile-stat-value {
      font-size: 20px;
      font-weight: 700;
      color: #333;
    }
    .profile-stat-label {
      font-size: 12px;
      color: #888;
      margin-top: 4px;
    }

    .follow-btn {
      width: 100%;
      padding: 12px;
      border-radius: 25px;
      font-size: 14px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s;
    }
    .follow-btn.follow {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      border: none;
    }
    .follow-btn.follow:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(102,126,234,0.4);
    }
    .follow-btn.following {
      background: white;
      color: #667eea;
      border: 2px solid #667eea;
    }
    .follow-btn.following:hover {
      background: #f8f9fa;
    }

    .profile-tabs {
      display: flex;
      background: white;
      border-radius: 12px;
      padding: 4px;
      margin-bottom: 16px;
    }
    .profile-tab {
      flex: 1;
      padding: 12px;
      background: none;
      border: none;
      border-radius: 8px;
      font-size: 14px;
      font-weight: 600;
      color: #888;
      cursor: pointer;
      transition: all 0.2s;
    }
    .profile-tab.active {
      background: #667eea;
      color: white;
    }

    /* Filter Tabs */
    .filter-tabs {
      display: flex;
      gap: 8px;
      margin-bottom: 16px;
      overflow-x: auto;
      padding: 4px 0;
    }
    .filter-tab {
      padding: 8px 16px;
      background: rgba(255,255,255,0.2);
      border: none;
      border-radius: 20px;
      color: white;
      font-size: 13px;
      font-weight: 600;
      cursor: pointer;
      white-space: nowrap;
      transition: all 0.2s;
    }
    .filter-tab.active {
      background: white;
      color: #667eea;
    }
    .filter-tab:hover:not(.active) {
      background: rgba(255,255,255,0.3);
    }

    /* Notification badge */
    .nav-item-wrapper {
      position: relative;
    }
    .notification-badge {
      position: absolute;
      top: 0;
      right: 8px;
      width: 18px;
      height: 18px;
      background: #e91e63;
      border-radius: 50%;
      font-size: 10px;
      font-weight: 700;
      color: white;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    /* View more comments */
    .view-more-comments {
      font-size: 13px;
      color: #888;
      background: none;
      border: none;
      cursor: pointer;
      padding: 8px 0;
    }
    .view-more-comments:hover {
      color: #667eea;
    }
  </style>
</head>
<body>
  <div class="container">
    <!-- Home Screen -->
    <div id="home-screen" class="screen active">
      <div class="header">
        <h1>ã‚²ãƒ³ã‚´ã‚«</h1>
        <p>è¨€èªåŒ–åŠ›ã‚’é›ãˆã‚‹ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°</p>
      </div>

      <div class="card">
        <div class="category-grid">
          <button class="category-btn" data-category="situation" data-limit="30">
            <div class="category-icon situation">ğŸ“</div>
            <div class="category-info">
              <h3>çŠ¶æ³æå†™</h3>
              <p>ãã®å ´ã«ã„ãªã„äººã«ä¼ãˆã‚‹</p>
            </div>
            <span class="category-limit">30æ–‡å­—</span>
          </button>

          <button class="category-btn" data-category="summary" data-limit="50">
            <div class="category-icon summary">ğŸ“š</div>
            <div class="category-info">
              <h3>è¦ç´„åŠ›</h3>
              <p>ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ã‚’çŸ­ãä¼ãˆã‚‹</p>
            </div>
            <span class="category-limit">50æ–‡å­—</span>
          </button>

          <button class="category-btn" data-category="emotion" data-limit="30">
            <div class="category-icon emotion">ğŸ’­</div>
            <div class="category-info">
              <h3>æ„Ÿæ€§ã®è¨€èªåŒ–</h3>
              <p>æ°—æŒã¡ã‚’è¨€è‘‰ã«ã™ã‚‹</p>
            </div>
            <span class="category-limit">30æ–‡å­—</span>
          </button>

          <button class="category-btn" data-category="rephrase" data-limit="20">
            <div class="category-icon rephrase">ğŸ”„</div>
            <div class="category-info">
              <h3>è¨€ã„æ›ãˆ</h3>
              <p>åˆ¥ã®è¡¨ç¾ã§ä¼ãˆã‚‹</p>
            </div>
            <span class="category-limit">20æ–‡å­—</span>
          </button>

          <button class="category-btn" data-category="explain" data-limit="50">
            <div class="category-icon explain">ğŸ’¡</div>
            <div class="category-info">
              <h3>æ¦‚å¿µèª¬æ˜</h3>
              <p>ã‚ã‹ã‚Šã‚„ã™ãä¾‹ãˆã‚‹</p>
            </div>
            <span class="category-limit">50æ–‡å­—</span>
          </button>
        </div>
      </div>

      <div class="stats-bar">
        <div class="stat-item">
          <div class="stat-value">12</div>
          <div class="stat-label">ä»Šæ—¥ã®å›ç­”</div>
        </div>
        <div class="stat-item">
          <div class="stat-value">78</div>
          <div class="stat-label">å¹³å‡ã‚¹ã‚³ã‚¢</div>
        </div>
        <div class="stat-item">
          <div class="stat-value">5</div>
          <div class="stat-label">é€£ç¶šæ—¥æ•°</div>
        </div>
      </div>
    </div>

    <!-- Challenge Screen -->
    <div id="challenge-screen" class="screen">
      <button class="back-btn" onclick="showScreen('home')">
        â† ã‚«ãƒ†ã‚´ãƒªãƒ¼é¸æŠã«æˆ»ã‚‹
      </button>

      <div class="card">
        <span class="challenge-category" id="challenge-category-label">çŠ¶æ³æå†™</span>

        <h2 class="challenge-title" id="challenge-title">
          ã€Œã‚«ãƒ•ã‚§ã§éš£ã®äººãŒã‚³ãƒ¼ãƒ’ãƒ¼ã‚’ã“ã¼ã—ãŸç¬é–“ã€ã‚’ã€ãã®å ´ã«ã„ãªã„äººã«ä¼ã‚ã‚‹ã‚ˆã†ã«èª¬æ˜ã—ã¦ãã ã•ã„ã€‚
        </h2>

        <div class="challenge-limit">
          <span class="challenge-limit-icon">âœï¸</span>
          <span class="challenge-limit-text"><strong id="char-limit">30</strong>æ–‡å­—ä»¥å†…ã§å›ç­”</span>
        </div>

        <div class="answer-area">
          <textarea
            class="answer-textarea"
            id="answer-input"
            placeholder="ã“ã“ã«å›ç­”ã‚’å…¥åŠ›..."
          ></textarea>
          <span class="char-counter" id="char-counter">0/30</span>
        </div>

        <button class="submit-btn" id="submit-btn" disabled>
          å›ç­”ã‚’é€ä¿¡
        </button>
      </div>

      <div class="loading" id="loading">
        <div class="loading-spinner"></div>
        <p class="loading-text">AIãŒè©•ä¾¡ä¸­...</p>
      </div>
    </div>

    <!-- Result Screen -->
    <div id="result-screen" class="screen">
      <button class="back-btn" onclick="showScreen('home')">
        â† ãƒ›ãƒ¼ãƒ ã«æˆ»ã‚‹
      </button>

      <div class="card">
        <div class="result-header">
          <div class="result-score">85</div>
          <div class="result-label">è¨€èªåŒ–ã‚¹ã‚³ã‚¢</div>
        </div>

        <div class="result-section">
          <div class="result-section-title">ã‚ãªãŸã®å›ç­”</div>
          <div class="result-answer" id="result-answer">
            éš£ã®å¸­ã§ã‚«ãƒƒãƒ—ãŒå‚¾ãã€èŒ¶è‰²ã„æ¶²ä½“ãŒãƒ†ãƒ¼ãƒ–ãƒ«ã‚’æ»‘ã‚Šè½ã¡ãŸ
          </div>
        </div>

        <div class="feedback-card">
          <h4>ğŸ‘ è‰¯ã‹ã£ãŸç‚¹</h4>
          <p>ã€ŒèŒ¶è‰²ã„æ¶²ä½“ã€ã¨ã„ã†è¦–è¦šçš„ãªæå†™ãŒåŠ¹æœçš„ã§ã™ã€‚ã€Œæ»‘ã‚Šè½ã¡ãŸã€ã¨ã„ã†å‹•è©ã§å‹•ããŒä¼ã‚ã‚Šã¾ã™ã€‚</p>
        </div>

        <div class="improvement-card">
          <h4>ğŸ“ æ”¹å–„ãƒã‚¤ãƒ³ãƒˆ</h4>
          <p>ã€Œç¬é–“ã€ã®ç·Šå¼µæ„Ÿã‚’ã‚‚ã†å°‘ã—è¡¨ç¾ã§ãã‚‹ã¨ã€ã‚ˆã‚Šè‡¨å ´æ„ŸãŒå¢—ã—ã¾ã™ã€‚</p>
        </div>

        <div class="example-card">
          <h4>ğŸ’ ãŠæ‰‹æœ¬å›ç­”</h4>
          <p>ã€Œã‚«ãƒƒãƒ—ãŒå‚¾ã„ãŸåˆ¹é‚£ã€è¤è‰²ã®æ³¢ãŒç™½ã„ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’æŸ“ã‚ãŸã€</p>
        </div>

        <div class="action-buttons">
          <button class="action-btn secondary" onclick="showScreen('home')">
            åˆ¥ã®ãŠé¡Œã¸
          </button>
          <button class="action-btn primary" onclick="retryChallenge()">
            ã‚‚ã†ä¸€åº¦æŒ‘æˆ¦
          </button>
        </div>
      </div>
    </div>

    <!-- Feed Screen -->
    <div id="feed-screen" class="screen">
      <div class="header header-small">
        <h1>ã¿ã‚“ãªã®å›ç­”</h1>
      </div>

      <div class="filter-tabs">
        <button class="filter-tab active">ã™ã¹ã¦</button>
        <button class="filter-tab">ãƒ•ã‚©ãƒ­ãƒ¼ä¸­</button>
        <button class="filter-tab">çŠ¶æ³æå†™</button>
        <button class="filter-tab">è¦ç´„åŠ›</button>
        <button class="filter-tab">æ„Ÿæ€§</button>
      </div>

      <!-- Feed Item 1 -->
      <div class="feed-card">
        <div class="feed-header">
          <div class="feed-avatar" onclick="showProfile('yuki')">ã‚†</div>
          <div class="feed-user-info">
            <div class="feed-username" onclick="showProfile('yuki')">ã‚†ãã®</div>
            <div class="feed-meta">
              <span class="feed-score">ã‚¹ã‚³ã‚¢ 92</span>
              <span>ãƒ»</span>
              <span>3æ™‚é–“å‰</span>
            </div>
          </div>
        </div>

        <div class="feed-challenge">
          <span class="feed-challenge-label">çŠ¶æ³æå†™</span>
          <div>ã€Œã‚«ãƒ•ã‚§ã§éš£ã®äººãŒã‚³ãƒ¼ãƒ’ãƒ¼ã‚’ã“ã¼ã—ãŸç¬é–“ã€ã‚’èª¬æ˜ã—ã¦ãã ã•ã„</div>
        </div>

        <div class="feed-answer">
          ã‚«ãƒƒãƒ—ãŒå‚¾ã„ãŸç¬é–“ã€ç¥ç€è‰²ã®æ³¢ç´‹ãŒãƒ†ãƒ¼ãƒ–ãƒ«ã‚’é§†ã‘æŠœã‘ãŸ
        </div>

        <div class="feed-actions">
          <button class="feed-action-btn like-btn" data-id="1">
            <span class="action-icon">â™¡</span>
            <span class="like-count">24</span>
          </button>
          <button class="feed-action-btn comment-toggle-btn" data-id="1">
            <span class="action-icon">ğŸ’¬</span>
            <span>8</span>
          </button>
          <button class="feed-action-btn">
            <span class="action-icon">ğŸ”–</span>
          </button>
        </div>

        <div class="comments-section" id="comments-1" style="display: none;">
          <div class="comment-item">
            <div class="comment-avatar">ãŸ</div>
            <div class="comment-content">
              <div class="comment-username">ãŸã‘ã—</div>
              <div class="comment-text">ã€Œç¥ç€è‰²ã®æ³¢ç´‹ã€ã¨ã„ã†è¡¨ç¾ãŒç´ æ•µã§ã™ã­ï¼æƒ…æ™¯ãŒç›®ã«æµ®ã‹ã³ã¾ã™</div>
              <div class="comment-time">2æ™‚é–“å‰</div>
            </div>
          </div>
          <div class="comment-item">
            <div class="comment-avatar">ã¿</div>
            <div class="comment-content">
              <div class="comment-username">ã¿ã•ã</div>
              <div class="comment-text">å‚è€ƒã«ãªã‚Šã¾ã™ï¼</div>
              <div class="comment-time">1æ™‚é–“å‰</div>
            </div>
          </div>
          <button class="view-more-comments">ä»–6ä»¶ã®ã‚³ãƒ¡ãƒ³ãƒˆã‚’è¡¨ç¤º</button>
          <div class="comment-input-area">
            <input type="text" class="comment-input" placeholder="ã‚³ãƒ¡ãƒ³ãƒˆã‚’è¿½åŠ ...">
            <button class="comment-submit">é€ä¿¡</button>
          </div>
        </div>
      </div>

      <!-- Feed Item 2 -->
      <div class="feed-card">
        <div class="feed-header">
          <div class="feed-avatar" onclick="showProfile('ken')" style="background: linear-gradient(135deg, #11998e, #38ef7d);">ã‘</div>
          <div class="feed-user-info">
            <div class="feed-username" onclick="showProfile('ken')">ã‘ã‚“ãŸ</div>
            <div class="feed-meta">
              <span class="feed-score">ã‚¹ã‚³ã‚¢ 88</span>
              <span>ãƒ»</span>
              <span>5æ™‚é–“å‰</span>
            </div>
          </div>
        </div>

        <div class="feed-challenge">
          <span class="feed-challenge-label">æ¦‚å¿µèª¬æ˜</span>
          <div>ã€ŒWi-Fiã€ã‚’ãŠã˜ã„ã¡ã‚ƒã‚“ã«ã‚‚ã‚ã‹ã‚‹ã‚ˆã†ã«èª¬æ˜ã—ã¦ãã ã•ã„</div>
        </div>

        <div class="feed-answer">
          ç›®ã«è¦‹ãˆãªã„é›»æ³¢ã®é“ã‚’é€šã£ã¦ã€ä¸–ç•Œä¸­ã®æƒ…å ±ãŒå±Šãé­”æ³•ã®éƒµä¾¿å±‹ã•ã‚“ã§ã™
        </div>

        <div class="feed-actions">
          <button class="feed-action-btn like-btn liked" data-id="2">
            <span class="action-icon">â™¥</span>
            <span class="like-count">42</span>
          </button>
          <button class="feed-action-btn comment-toggle-btn" data-id="2">
            <span class="action-icon">ğŸ’¬</span>
            <span>15</span>
          </button>
          <button class="feed-action-btn">
            <span class="action-icon">ğŸ”–</span>
          </button>
        </div>

        <div class="comments-section" id="comments-2" style="display: none;">
          <div class="comment-item">
            <div class="comment-avatar">ã‚</div>
            <div class="comment-content">
              <div class="comment-username">ã‚ã‚„ã‹</div>
              <div class="comment-text">é­”æ³•ã®éƒµä¾¿å±‹ã•ã‚“ã€ã¨ã„ã†ä¾‹ãˆãŒçµ¶å¦™ï¼</div>
              <div class="comment-time">4æ™‚é–“å‰</div>
            </div>
          </div>
          <button class="view-more-comments">ä»–14ä»¶ã®ã‚³ãƒ¡ãƒ³ãƒˆã‚’è¡¨ç¤º</button>
          <div class="comment-input-area">
            <input type="text" class="comment-input" placeholder="ã‚³ãƒ¡ãƒ³ãƒˆã‚’è¿½åŠ ...">
            <button class="comment-submit">é€ä¿¡</button>
          </div>
        </div>
      </div>

      <!-- Feed Item 3 -->
      <div class="feed-card">
        <div class="feed-header">
          <div class="feed-avatar" onclick="showProfile('saki')" style="background: linear-gradient(135deg, #ee0979, #ff6a00);">ã•</div>
          <div class="feed-user-info">
            <div class="feed-username" onclick="showProfile('saki')">ã•ã</div>
            <div class="feed-meta">
              <span class="feed-score">ã‚¹ã‚³ã‚¢ 95</span>
              <span>ãƒ»</span>
              <span>8æ™‚é–“å‰</span>
            </div>
          </div>
        </div>

        <div class="feed-challenge">
          <span class="feed-challenge-label">æ„Ÿæ€§ã®è¨€èªåŒ–</span>
          <div>ã€Œåˆ‡ãªã„ã€ã‚’ä½¿ã‚ãšã«å¤•æš®ã‚Œã®ç©ºã‚’è¦‹ãŸæ°—æŒã¡ã‚’è¡¨ç¾</div>
        </div>

        <div class="feed-answer">
          ã‚ªãƒ¬ãƒ³ã‚¸ã«æŸ“ã¾ã‚‹ç©ºã‚’è¦‹ä¸Šã’ã€èƒ¸ã®å¥¥ãŒãã‚…ã£ã¨ç· ã¾ã‚‹
        </div>

        <div class="feed-actions">
          <button class="feed-action-btn like-btn" data-id="3">
            <span class="action-icon">â™¡</span>
            <span class="like-count">67</span>
          </button>
          <button class="feed-action-btn comment-toggle-btn" data-id="3">
            <span class="action-icon">ğŸ’¬</span>
            <span>23</span>
          </button>
          <button class="feed-action-btn">
            <span class="action-icon">ğŸ”–</span>
          </button>
        </div>

        <div class="comments-section" id="comments-3" style="display: none;">
          <div class="comment-item">
            <div class="comment-avatar">ã‚Š</div>
            <div class="comment-content">
              <div class="comment-username">ã‚Šã‚‡ã†</div>
              <div class="comment-text">ã€Œãã‚…ã£ã¨ç· ã¾ã‚‹ã€ãŒã¾ã•ã«ãã®æ„Ÿè¦šï¼å…±æ„Ÿã—ã¾ã—ãŸ</div>
              <div class="comment-time">7æ™‚é–“å‰</div>
            </div>
          </div>
          <button class="view-more-comments">ä»–22ä»¶ã®ã‚³ãƒ¡ãƒ³ãƒˆã‚’è¡¨ç¤º</button>
          <div class="comment-input-area">
            <input type="text" class="comment-input" placeholder="ã‚³ãƒ¡ãƒ³ãƒˆã‚’è¿½åŠ ...">
            <button class="comment-submit">é€ä¿¡</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Profile Screen -->
    <div id="profile-screen" class="screen">
      <button class="back-btn" onclick="showScreen('feed')">
        â† æˆ»ã‚‹
      </button>

      <div class="profile-header-card">
        <div class="profile-avatar" id="profile-avatar">ã‚†</div>
        <div class="profile-name" id="profile-name">ã‚†ãã®</div>
        <div class="profile-handle" id="profile-handle">@yukino_words</div>
        <div class="profile-bio" id="profile-bio">è¨€è‘‰ã®åŠ›ã‚’ä¿¡ã˜ã¦ã„ã¾ã™ã€‚æ¯æ—¥ã‚³ãƒ„ã‚³ãƒ„è¨€èªåŒ–ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°ä¸­ã€‚ç›®æ¨™ã¯å°èª¬å®¶ã«ãªã‚‹ã“ã¨ã€‚</div>

        <div class="profile-stats">
          <div class="profile-stat">
            <div class="profile-stat-value" id="profile-posts">156</div>
            <div class="profile-stat-label">å›ç­”</div>
          </div>
          <div class="profile-stat">
            <div class="profile-stat-value" id="profile-followers">1.2k</div>
            <div class="profile-stat-label">ãƒ•ã‚©ãƒ­ãƒ¯ãƒ¼</div>
          </div>
          <div class="profile-stat">
            <div class="profile-stat-value" id="profile-following">89</div>
            <div class="profile-stat-label">ãƒ•ã‚©ãƒ­ãƒ¼ä¸­</div>
          </div>
        </div>

        <button class="follow-btn follow" id="follow-btn" onclick="toggleFollow()">
          ãƒ•ã‚©ãƒ­ãƒ¼ã™ã‚‹
        </button>
      </div>

      <div class="profile-tabs">
        <button class="profile-tab active">å›ç­”</button>
        <button class="profile-tab">ã„ã„ã­</button>
      </div>

      <!-- Profile posts -->
      <div class="feed-card">
        <div class="feed-challenge">
          <span class="feed-challenge-label">çŠ¶æ³æå†™</span>
          <div>ã€Œã‚«ãƒ•ã‚§ã§éš£ã®äººãŒã‚³ãƒ¼ãƒ’ãƒ¼ã‚’ã“ã¼ã—ãŸç¬é–“ã€ã‚’èª¬æ˜ã—ã¦ãã ã•ã„</div>
        </div>
        <div class="feed-answer">
          ã‚«ãƒƒãƒ—ãŒå‚¾ã„ãŸç¬é–“ã€ç¥ç€è‰²ã®æ³¢ç´‹ãŒãƒ†ãƒ¼ãƒ–ãƒ«ã‚’é§†ã‘æŠœã‘ãŸ
        </div>
        <div class="feed-meta" style="margin-top: 12px;">
          <span class="feed-score">ã‚¹ã‚³ã‚¢ 92</span>
          <span>ãƒ»</span>
          <span>3æ™‚é–“å‰</span>
        </div>
        <div class="feed-actions">
          <button class="feed-action-btn">
            <span class="action-icon">â™¡</span>
            <span>24</span>
          </button>
          <button class="feed-action-btn">
            <span class="action-icon">ğŸ’¬</span>
            <span>8</span>
          </button>
        </div>
      </div>

      <div class="feed-card">
        <div class="feed-challenge">
          <span class="feed-challenge-label">è¦ç´„åŠ›</span>
          <div>ã€Œæ¡ƒå¤ªéƒã€ã®ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ã‚’èª¬æ˜ã—ã¦ãã ã•ã„</div>
        </div>
        <div class="feed-answer">
          æ¡ƒã‹ã‚‰ç”Ÿã¾ã‚ŒãŸå°‘å¹´ãŒã€ä»²é–“ã¨å…±ã«é¬¼ã‚’é€€æ²»ã—ã€å®ã‚’æŒã¡å¸°ã‚‹å†’é™ºè­š
        </div>
        <div class="feed-meta" style="margin-top: 12px;">
          <span class="feed-score">ã‚¹ã‚³ã‚¢ 89</span>
          <span>ãƒ»</span>
          <span>1æ—¥å‰</span>
        </div>
        <div class="feed-actions">
          <button class="feed-action-btn">
            <span class="action-icon">â™¡</span>
            <span>31</span>
          </button>
          <button class="feed-action-btn">
            <span class="action-icon">ğŸ’¬</span>
            <span>12</span>
          </button>
        </div>
      </div>
    </div>

    <!-- My Profile Screen -->
    <div id="myprofile-screen" class="screen">
      <div class="header header-small">
        <h1>ãƒã‚¤ãƒšãƒ¼ã‚¸</h1>
      </div>

      <div class="profile-header-card">
        <div class="profile-avatar">ç§</div>
        <div class="profile-name">ã‚ãªãŸ</div>
        <div class="profile-handle">@your_handle</div>
        <div class="profile-bio">ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ã‚’ç·¨é›†ã—ã¦è‡ªå·±ç´¹ä»‹ã‚’è¿½åŠ ã—ã¾ã—ã‚‡ã†</div>

        <div class="profile-stats">
          <div class="profile-stat">
            <div class="profile-stat-value">12</div>
            <div class="profile-stat-label">å›ç­”</div>
          </div>
          <div class="profile-stat">
            <div class="profile-stat-value">34</div>
            <div class="profile-stat-label">ãƒ•ã‚©ãƒ­ãƒ¯ãƒ¼</div>
          </div>
          <div class="profile-stat">
            <div class="profile-stat-value">56</div>
            <div class="profile-stat-label">ãƒ•ã‚©ãƒ­ãƒ¼ä¸­</div>
          </div>
        </div>

        <button class="follow-btn following" onclick="alert('ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ç·¨é›†ç”»é¢ã¸')">
          ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ã‚’ç·¨é›†
        </button>
      </div>

      <div class="profile-tabs">
        <button class="profile-tab active">å›ç­”</button>
        <button class="profile-tab">ã„ã„ã­</button>
        <button class="profile-tab">ä¿å­˜æ¸ˆã¿</button>
      </div>

      <div class="feed-card">
        <div class="feed-challenge">
          <span class="feed-challenge-label">æ„Ÿæ€§ã®è¨€èªåŒ–</span>
          <div>ã€Œå¬‰ã—ã„ã€ã‚’ä½¿ã‚ãšã«å‹äººã«ä¼šãˆãŸæ°—æŒã¡ã‚’è¡¨ç¾</div>
        </div>
        <div class="feed-answer">
          ä¹…ã—ã¶ã‚Šã®å†ä¼šã«ã€è‡ªç„¶ã¨é ¬ãŒç·©ã¿ã€è¨€è‘‰ã‚ˆã‚Šå…ˆã«ç¬‘é¡”ãŒã“ã¼ã‚ŒãŸ
        </div>
        <div class="feed-meta" style="margin-top: 12px;">
          <span class="feed-score">ã‚¹ã‚³ã‚¢ 85</span>
          <span>ãƒ»</span>
          <span>æ˜¨æ—¥</span>
        </div>
        <div class="feed-actions">
          <button class="feed-action-btn">
            <span class="action-icon">â™¡</span>
            <span>18</span>
          </button>
          <button class="feed-action-btn">
            <span class="action-icon">ğŸ’¬</span>
            <span>5</span>
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- Bottom Navigation -->
  <nav class="bottom-nav">
    <button class="nav-item active" data-screen="home">
      <span class="nav-icon">ğŸ </span>
      <span class="nav-label">ãƒ›ãƒ¼ãƒ </span>
    </button>
    <div class="nav-item-wrapper">
      <button class="nav-item" data-screen="feed">
        <span class="nav-icon">ğŸ“±</span>
        <span class="nav-label">ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³</span>
      </button>
      <span class="notification-badge">3</span>
    </div>
    <button class="nav-item" data-screen="myprofile">
      <span class="nav-icon">ğŸ‘¤</span>
      <span class="nav-label">ãƒã‚¤ãƒšãƒ¼ã‚¸</span>
    </button>
  </nav>

  <script>
    // Sample challenges for each category
    const challenges = {
      situation: [
        'ã€Œã‚«ãƒ•ã‚§ã§éš£ã®äººãŒã‚³ãƒ¼ãƒ’ãƒ¼ã‚’ã“ã¼ã—ãŸç¬é–“ã€ã‚’ã€ãã®å ´ã«ã„ãªã„äººã«ä¼ã‚ã‚‹ã‚ˆã†ã«èª¬æ˜ã—ã¦ãã ã•ã„ã€‚',
        'ã€Œæº€å“¡é›»è»Šã§ãƒ‰ã‚¢ãŒé–‰ã¾ã‚‹ç›´å‰ã€ã®å…‰æ™¯ã‚’ã€è¦‹ãŸã“ã¨ãŒãªã„äººã«ä¼ã‚ã‚‹ã‚ˆã†ã«èª¬æ˜ã—ã¦ãã ã•ã„ã€‚',
        'ã€Œé›¨ãŒé™ã‚Šå§‹ã‚ãŸç¬é–“ã®è¡—ã®æ§˜å­ã€ã‚’ã€ãã®å ´ã«ã„ãªã„äººã«ä¼ã‚ã‚‹ã‚ˆã†ã«èª¬æ˜ã—ã¦ãã ã•ã„ã€‚'
      ],
      summary: [
        'ã€Œæ¡ƒå¤ªéƒã€ã®ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ã‚’ã€èª­ã‚“ã ã“ã¨ãŒãªã„äººã«å‘ã‘ã¦èª¬æ˜ã—ã¦ãã ã•ã„ã€‚',
        'ã€Œã‚·ãƒ³ãƒ‡ãƒ¬ãƒ©ã€ã®ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ã‚’ã€èª­ã‚“ã ã“ã¨ãŒãªã„äººã«å‘ã‘ã¦èª¬æ˜ã—ã¦ãã ã•ã„ã€‚',
        'ã€Œæµ¦å³¶å¤ªéƒã€ã®ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ã‚’ã€èª­ã‚“ã ã“ã¨ãŒãªã„äººã«å‘ã‘ã¦èª¬æ˜ã—ã¦ãã ã•ã„ã€‚'
      ],
      emotion: [
        'ã€Œåˆ‡ãªã„ã€ã¨ã„ã†è¨€è‘‰ã‚’ä½¿ã‚ãšã«ã€å¤•æš®ã‚Œã®ç©ºã‚’è¦‹ã¦æ„Ÿã˜ãŸæ°—æŒã¡ã‚’è¡¨ç¾ã—ã¦ãã ã•ã„ã€‚',
        'ã€Œå¬‰ã—ã„ã€ã¨ã„ã†è¨€è‘‰ã‚’ä½¿ã‚ãšã«ã€ä¹…ã—ã¶ã‚Šã«å‹äººã«ä¼šãˆãŸæ°—æŒã¡ã‚’è¡¨ç¾ã—ã¦ãã ã•ã„ã€‚',
        'ã€Œå¯‚ã—ã„ã€ã¨ã„ã†è¨€è‘‰ã‚’ä½¿ã‚ãšã«ã€ä¸€äººã§éã”ã™å¤œã®æ°—æŒã¡ã‚’è¡¨ç¾ã—ã¦ãã ã•ã„ã€‚'
      ],
      rephrase: [
        'ã€Œæ¤œè¨ã—ã¾ã™ï¼ˆæ–­ã‚Šæ–‡å¥ã¨ã—ã¦ï¼‰ã€ã‚’ã€ç›¸æ‰‹ã‚’å‚·ã¤ã‘ãªã„ä¸å¯§ãªè¨€ã„å›ã—ã«å¤‰ãˆã¦ãã ã•ã„ã€‚',
        'ã€Œãã‚Œã¯ç„¡ç†ã§ã™ã€ã‚’ã€ç›¸æ‰‹ã‚’å‚·ã¤ã‘ãªã„ä¸å¯§ãªè¨€ã„å›ã—ã«å¤‰ãˆã¦ãã ã•ã„ã€‚',
        'ã€Œèˆˆå‘³ã‚ã‚Šã¾ã›ã‚“ã€ã‚’ã€ç›¸æ‰‹ã‚’å‚·ã¤ã‘ãªã„ä¸å¯§ãªè¨€ã„å›ã—ã«å¤‰ãˆã¦ãã ã•ã„ã€‚'
      ],
      explain: [
        'ã€ŒWi-Fiã€ã¨ã„ã†ä»•çµ„ã¿ã‚’ã€ãŠã˜ã„ã¡ã‚ƒã‚“ã«ã‚‚ã‚ã‹ã‚‹ã‚ˆã†ã«ä¾‹ãˆè©±ã§èª¬æ˜ã—ã¦ãã ã•ã„ã€‚',
        'ã€Œã‚¯ãƒ©ã‚¦ãƒ‰ã€ã¨ã„ã†ä»•çµ„ã¿ã‚’ã€ãŠã˜ã„ã¡ã‚ƒã‚“ã«ã‚‚ã‚ã‹ã‚‹ã‚ˆã†ã«ä¾‹ãˆè©±ã§èª¬æ˜ã—ã¦ãã ã•ã„ã€‚',
        'ã€ŒAIã€ã¨ã„ã†ä»•çµ„ã¿ã‚’ã€ãŠã˜ã„ã¡ã‚ƒã‚“ã«ã‚‚ã‚ã‹ã‚‹ã‚ˆã†ã«ä¾‹ãˆè©±ã§èª¬æ˜ã—ã¦ãã ã•ã„ã€‚'
      ]
    };

    const categoryNames = {
      situation: 'çŠ¶æ³æå†™',
      summary: 'è¦ç´„åŠ›',
      emotion: 'æ„Ÿæ€§ã®è¨€èªåŒ–',
      rephrase: 'è¨€ã„æ›ãˆ',
      explain: 'æ¦‚å¿µèª¬æ˜'
    };

    const profileData = {
      yuki: {
        avatar: 'ã‚†',
        name: 'ã‚†ãã®',
        handle: '@yukino_words',
        bio: 'è¨€è‘‰ã®åŠ›ã‚’ä¿¡ã˜ã¦ã„ã¾ã™ã€‚æ¯æ—¥ã‚³ãƒ„ã‚³ãƒ„è¨€èªåŒ–ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°ä¸­ã€‚ç›®æ¨™ã¯å°èª¬å®¶ã«ãªã‚‹ã“ã¨ã€‚',
        posts: '156',
        followers: '1.2k',
        following: '89',
        color: 'linear-gradient(135deg, #667eea, #764ba2)'
      },
      ken: {
        avatar: 'ã‘',
        name: 'ã‘ã‚“ãŸ',
        handle: '@kenta_express',
        bio: 'ITã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã€‚é›£ã—ã„ã“ã¨ã‚’ç°¡å˜ã«èª¬æ˜ã™ã‚‹ã®ãŒå¥½ãã€‚',
        posts: '89',
        followers: '567',
        following: '123',
        color: 'linear-gradient(135deg, #11998e, #38ef7d)'
      },
      saki: {
        avatar: 'ã•',
        name: 'ã•ã',
        handle: '@saki_poetry',
        bio: 'è©©ã‚’æ›¸ãã®ãŒè¶£å‘³ã§ã™ã€‚æ—¥å¸¸ã®å°ã•ãªæ„Ÿå‹•ã‚’è¨€è‘‰ã«ã—ãŸã„ã€‚',
        posts: '234',
        followers: '2.3k',
        following: '156',
        color: 'linear-gradient(135deg, #ee0979, #ff6a00)'
      }
    };

    let currentCategory = '';
    let currentLimit = 30;
    let currentChallenge = '';
    let isFollowing = false;

    // Screen navigation
    function showScreen(screenId) {
      document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
      document.getElementById(screenId + '-screen').classList.add('active');

      // Update nav
      document.querySelectorAll('.nav-item').forEach(item => {
        item.classList.remove('active');
        if (item.dataset.screen === screenId) {
          item.classList.add('active');
        }
      });
    }

    // Bottom nav
    document.querySelectorAll('.nav-item').forEach(item => {
      item.addEventListener('click', () => {
        const screen = item.dataset.screen;
        if (screen) showScreen(screen);
      });
    });

    // Category selection
    document.querySelectorAll('.category-btn').forEach(btn => {
      btn.addEventListener('click', () => {
        currentCategory = btn.dataset.category;
        currentLimit = parseInt(btn.dataset.limit);
        startChallenge();
      });
    });

    function startChallenge() {
      const challengeList = challenges[currentCategory];
      currentChallenge = challengeList[Math.floor(Math.random() * challengeList.length)];

      document.getElementById('challenge-category-label').textContent = categoryNames[currentCategory];
      document.getElementById('challenge-title').textContent = currentChallenge;
      document.getElementById('char-limit').textContent = currentLimit;
      document.getElementById('char-counter').textContent = `0/${currentLimit}`;
      document.getElementById('answer-input').value = '';
      document.getElementById('answer-input').classList.remove('over-limit');
      document.getElementById('char-counter').classList.remove('over');
      document.getElementById('submit-btn').disabled = true;
      document.getElementById('loading').classList.remove('active');

      showScreen('challenge');
    }

    // Character counter
    const answerInput = document.getElementById('answer-input');
    const charCounter = document.getElementById('char-counter');
    const submitBtn = document.getElementById('submit-btn');

    answerInput.addEventListener('input', () => {
      const length = answerInput.value.length;
      charCounter.textContent = `${length}/${currentLimit}`;

      if (length > currentLimit) {
        answerInput.classList.add('over-limit');
        charCounter.classList.add('over');
        submitBtn.disabled = true;
      } else {
        answerInput.classList.remove('over-limit');
        charCounter.classList.remove('over');
        submitBtn.disabled = length === 0;
      }
    });

    // Submit answer
    submitBtn.addEventListener('click', () => {
      document.getElementById('loading').classList.add('active');

      // Simulate AI evaluation
      setTimeout(() => {
        document.getElementById('result-answer').textContent = answerInput.value;
        showScreen('result');
      }, 1500);
    });

    function retryChallenge() {
      startChallenge();
    }

    // Like functionality
    document.querySelectorAll('.like-btn').forEach(btn => {
      btn.addEventListener('click', () => {
        const countEl = btn.querySelector('.like-count');
        const iconEl = btn.querySelector('.action-icon');
        let count = parseInt(countEl.textContent);

        if (btn.classList.contains('liked')) {
          btn.classList.remove('liked');
          iconEl.textContent = 'â™¡';
          countEl.textContent = count - 1;
        } else {
          btn.classList.add('liked');
          iconEl.textContent = 'â™¥';
          countEl.textContent = count + 1;
        }
      });
    });

    // Comment toggle
    document.querySelectorAll('.comment-toggle-btn').forEach(btn => {
      btn.addEventListener('click', () => {
        const id = btn.dataset.id;
        const commentsSection = document.getElementById('comments-' + id);
        if (commentsSection.style.display === 'none') {
          commentsSection.style.display = 'block';
        } else {
          commentsSection.style.display = 'none';
        }
      });
    });

    // Show profile
    function showProfile(userId) {
      const profile = profileData[userId];
      if (profile) {
        document.getElementById('profile-avatar').textContent = profile.avatar;
        document.getElementById('profile-avatar').style.background = profile.color;
        document.getElementById('profile-name').textContent = profile.name;
        document.getElementById('profile-handle').textContent = profile.handle;
        document.getElementById('profile-bio').textContent = profile.bio;
        document.getElementById('profile-posts').textContent = profile.posts;
        document.getElementById('profile-followers').textContent = profile.followers;
        document.getElementById('profile-following').textContent = profile.following;

        // Reset follow button
        isFollowing = false;
        const followBtn = document.getElementById('follow-btn');
        followBtn.classList.remove('following');
        followBtn.classList.add('follow');
        followBtn.textContent = 'ãƒ•ã‚©ãƒ­ãƒ¼ã™ã‚‹';

        showScreen('profile');
      }
    }

    // Toggle follow
    function toggleFollow() {
      const followBtn = document.getElementById('follow-btn');
      isFollowing = !isFollowing;

      if (isFollowing) {
        followBtn.classList.remove('follow');
        followBtn.classList.add('following');
        followBtn.textContent = 'ãƒ•ã‚©ãƒ­ãƒ¼ä¸­';
      } else {
        followBtn.classList.remove('following');
        followBtn.classList.add('follow');
        followBtn.textContent = 'ãƒ•ã‚©ãƒ­ãƒ¼ã™ã‚‹';
      }
    }

    // Filter tabs
    document.querySelectorAll('.filter-tab').forEach(tab => {
      tab.addEventListener('click', () => {
        document.querySelectorAll('.filter-tab').forEach(t => t.classList.remove('active'));
        tab.classList.add('active');
      });
    });

    // Profile tabs
    document.querySelectorAll('.profile-tab').forEach(tab => {
      tab.addEventListener('click', () => {
        const parent = tab.parentElement;
        parent.querySelectorAll('.profile-tab').forEach(t => t.classList.remove('active'));
        tab.classList.add('active');
      });
    });
  </script>
</body>
</html>
